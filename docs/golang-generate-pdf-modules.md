# Go PDF Generation Modules Research

## 概要

このドキュメントは、GolangでPDF生成を行うためのモジュールの調査結果をまとめたものです。各モジュールの特徴、メンテナンス状況、人気度、実装の複雑さなどを比較検討しています。

## 調査対象モジュール

### 1. gofpdf

- **リポジトリ**: https://github.com/jung-kurt/gofpdf
- **ライセンス**: MIT
- **スター数**: 4,300+ (2024年時点)
- **最終更新**: 2023年頃（比較的安定）

#### 特徴
- 純粋なGo言語実装
- PDFのコアフォーマット（v1.7）をサポート
- 多言語対応（UTF-8サポート）
- 画像、グラフィック、テキストの描画機能
- 軽量でシンプルなAPI

#### 実装の複雑さ
- **学習コスト**: 低
- **実装難易度**: 簡単
- **カスタマイズ性**: 中程度

```go
// 基本的な使用例
pdf := gofpdf.New("P", "mm", "A4", "")
pdf.AddPage()
pdf.SetFont("Arial", "B", 16)
pdf.Cell(40, 10, "Hello World")
pdf.OutputFileAndClose("hello.pdf")
```

### 2. pdfcpu

- **リポジトリ**: https://github.com/pdfcpu/pdfcpu
- **ライセンス**: Apache 2.0
- **スター数**: 6,700+ (2024年時点)
- **最終更新**: 活発（2024年定期更新）

#### 特徴
- PDF処理に特化（生成、変換、操作）
- コマンドラインツールとしても使用可能
- 既存PDFの編集・最適化機能
- 高い精度でのPDF操作
- 包括的なPDF仕様サポート

#### 実装の複雑さ
- **学習コスト**: 中程度
- **実装難易度**: 中程度
- **カスタマイズ性**: 高

```go
// 基本的な使用例
import "github.com/pdfcpu/pdfcpu/pkg/api"

// PDFの最適化
err := api.OptimizeFile("input.pdf", "output.pdf", nil)
```

### 3. UniPDF (旧 unidoc)

- **リポジトリ**: https://github.com/unidoc/unipdf
- **ライセンス**: 商用/AGPL（無料版制限あり）
- **スター数**: 1,300+ (2024年時点)
- **最終更新**: 活発（商用サポート）

#### 特徴
- 商用品質のPDF操作
- 高度な機能（デジタル署名、暗号化等）
- 既存PDFの読み取り・編集機能
- 企業向けサポート
- 詳細なドキュメント

#### 実装の複雑さ
- **学習コスト**: 高
- **実装難易度**: 中〜高
- **カスタマイズ性**: 非常に高

```go
// 基本的な使用例
creator := creator.New()
creator.NewPage()
p := creator.NewParagraph("Hello World")
creator.Draw(p)
err := creator.WriteToFile("output.pdf")
```

### 4. go-pdf

- **リポジトリ**: https://github.com/signintech/gopdf
- **ライセンス**: MIT
- **スター数**: 2,500+ (2024年時点)
- **最終更新**: 2023年頃

#### 特徴
- シンプルなAPI設計
- 基本的なPDF生成機能
- 軽量実装
- 日本語フォント対応

#### 実装の複雑さ
- **学習コスト**: 低
- **実装難易度**: 簡単
- **カスタマイズ性**: 低〜中

```go
// 基本的な使用例
pdf := gopdf.GoPdf{}
pdf.Start(gopdf.Config{PageSize: *gopdf.PageSizeA4})
pdf.AddPage()
pdf.SetFont("Arial", "", 14)
pdf.Cell(nil, "Hello World")
pdf.WritePdf("output.pdf")
```

### 5. maroto

- **リポジトリ**: https://github.com/johnfercher/maroto
- **ライセンス**: MIT
- **スター数**: 2,000+ (2024年時点)
- **最終更新**: 活発（2024年定期更新）

#### 特徴
- レポート生成に特化
- 表形式データの処理が得意
- レスポンシブデザイン対応
- 構造化されたAPI
- マルチカラム対応

#### 実装の複雑さ
- **学習コスト**: 中程度
- **実装難易度**: 中程度
- **カスタマイズ性**: 高

```go
// 基本的な使用例
m := maroto.New()
m.Row(10, func() {
    m.Col(12, func() {
        m.Text("Hello World")
    })
})
m.OutputFileAndClose("output.pdf")
```

## 比較表

| モジュール | 人気度 | メンテナンス | 学習コスト | 機能の豊富さ | 商用利用 | 推奨用途 |
|-----------|--------|-------------|-----------|-------------|----------|----------|
| gofpdf | ★★★★☆ | ★★★☆☆ | ★★☆☆☆ | ★★★☆☆ | ★★★★★ | 基本的なPDF生成 |
| pdfcpu | ★★★★★ | ★★★★★ | ★★★☆☆ | ★★★★★ | ★★★★★ | PDF処理全般 |
| UniPDF | ★★★☆☆ | ★★★★★ | ★★★★☆ | ★★★★★ | ★★★☆☆ | 高度なPDF操作 |
| go-pdf | ★★★☆☆ | ★★☆☆☆ | ★★☆☆☆ | ★★☆☆☆ | ★★★★★ | シンプルな生成 |
| maroto | ★★★☆☆ | ★★★★☆ | ★★★☆☆ | ★★★★☆ | ★★★★★ | レポート生成 |

## 推奨事項

### 用途別推奨

1. **基本的なPDF生成**: `gofpdf`
   - シンプルで学習コストが低い
   - 軽量で依存関係が少ない
   - 日本語対応も可能

2. **包括的なPDF操作**: `pdfcpu`
   - 最も活発にメンテナンスされている
   - 豊富な機能と高い品質
   - 既存PDFの処理にも対応

3. **レポート生成**: `maroto`
   - 表形式データの処理が得意
   - 構造化されたAPIで保守性が高い
   - レスポンシブデザイン対応

4. **高度な機能が必要**: `UniPDF`
   - 商用品質のソリューション
   - デジタル署名、暗号化等の高度機能
   - 企業向けサポート（有料）

### 一般的な選択基準

1. **プロジェクトの規模**
   - 小規模: gofpdf, go-pdf
   - 中規模: pdfcpu, maroto
   - 大規模: UniPDF

2. **メンテナンス重視**
   - 第1位: pdfcpu
   - 第2位: UniPDF
   - 第3位: maroto

3. **学習コスト重視**
   - 第1位: gofpdf, go-pdf
   - 第2位: maroto
   - 第3位: pdfcpu

## 結論

Go言語でPDF生成を行う場合、最も汎用的で推奨されるのは **pdfcpu** です。活発なメンテナンス、豊富な機能、安定した品質を提供しています。

ただし、用途に応じて以下のような選択も有効です：
- **簡単な生成**: gofpdf
- **レポート生成**: maroto
- **高度な機能**: UniPDF

選択の際は、プロジェクトの要件、メンテナンスの継続性、チームの技術レベルを総合的に考慮することが重要です。

---

*調査日: 2024年7月*  
*調査者: Claude AI Assistant*