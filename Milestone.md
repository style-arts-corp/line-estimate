# プロジェクトマイルストーン - 廃棄品見積もりアプリケーション

## プロジェクト概要

廃棄品（家具、家電等）の見積もり作成から作業指示書生成までのワークフローを支援するWebアプリケーションの開発プロジェクトです。

### 技術スタック
- **フロントエンド**: Next.js 15 (App Router) + TypeScript + Tailwind CSS + shadcn/ui
- **バックエンド**: Go + クリーンアーキテクチャ
- **データベース**: PostgreSQL (予定)
- **外部連携**: Google Drive API, Google Sheets API
- **認証**: 基本認証なし (LIFF対応は将来検討)

---

## Phase 1: MVP（PoC検証レベル）

**目標**: コンセプト検証が可能な最小限の機能を実装し、基本的なワークフローを動作させる

### Phase 1.1: 基盤構築

#### チケット #1-1: バックエンド基盤整備
- **優先度**: 高
- **見積工数**: 5日
- **内容**:
  - Go言語でのREST APIサーバー構築
  - クリーンアーキテクチャのディレクトリ構成実装
  - PostgreSQLデータベース接続設定
  - 基本的な設定管理（config.yaml）
  - ヘルスチェックエンドポイント実装
- **定義完了**: API `/health` が正常に応答する

#### チケット #1-2: フロントエンド基盤整備
- **優先度**: 高
- **見積工数**: 3日
- **内容**:
  - Next.js 15プロジェクトセットアップ
  - TypeScript設定とESLint設定
  - Tailwind CSS + shadcn/ui導入
  - 基本的なレイアウトコンポーネント作成
  - バックエンドAPI接続設定
- **定義完了**: 基本的なページレイアウトが表示される

#### チケット #1-3: データベーススキーマ設計・構築
- **優先度**: 高
- **見積工数**: 3日
- **内容**:
  - PostgreSQLスキーマ設計
  - マイグレーションファイル作成
  - 基本テーブル作成（categories, items, estimates, customers）
  - 初期データ投入（廃棄品カテゴリ・アイテムマスタ）
- **定義完了**: 必要なテーブルが作成され、基本データが投入される

### Phase 1.2: コア機能実装

#### チケット #1-4: 顧客情報管理API実装
- **優先度**: 高
- **見積工数**: 4日
- **内容**:
  - 顧客情報CRUD API実装
  - バリデーション機能実装
  - データベース連携
  - エラーハンドリング
- **定義完了**: 顧客情報の作成・取得・更新・削除ができる

#### チケット #1-5: カテゴリ・アイテム管理API実装
- **優先度**: 高
- **見積工数**: 4日
- **内容**:
  - カテゴリ一覧取得API実装
  - アイテム一覧取得API実装
  - カテゴリフィルタリング機能
  - レスポンス形式統一
- **定義完了**: カテゴリ・アイテムの一覧取得ができる

#### チケット #1-6: 見積もり管理API実装
- **優先度**: 高
- **見積工数**: 6日
- **内容**:
  - 見積もりCRUD API実装
  - 選択アイテム管理
  - 金額計算ロジック実装
  - 見積もり状態管理
- **定義完了**: 見積もりの作成・取得・更新・削除・計算ができる

### Phase 1.3: フロントエンド基本画面実装

#### チケット #1-7: メイン画面実装（顧客情報入力）
- **優先度**: 高
- **見積工数**: 5日
- **内容**:
  - 顧客情報入力フォーム作成
  -form-hook-form + zod でのバリデーション
  - バックエンドAPI連携
  - エラー表示機能
  - レスポンシブデザイン対応
- **定義完了**: 顧客情報入力・保存ができる

#### チケット #1-8: メイン画面実装（廃棄品選択）
- **優先度**: 高
- **見積工数**: 7日
- **内容**:
  - カテゴリ別アイテム表示
  - アイテム選択・数量設定機能
  - リアルタイム金額計算表示
  - 選択済みアイテムリスト表示
  - アイテム削除機能
- **定義完了**: 廃棄品の選択・数量設定・金額計算ができる

#### チケット #1-9: 確認画面実装
- **優先度**: 高
- **見積工数**: 4日
- **内容**:
  - 入力内容確認表示
  - 担当者名入力フィールド
  - 見積もり内容修正リンク
  - 基本的な見積書表示
- **定義完了**: 見積もり内容の確認・表示ができる

### Phase 1.4: MVP機能統合

#### チケット #1-10: 基本的な見積書生成機能
- **優先度**: 中
- **見積工数**: 5日
- **内容**:
  - 簡単なPDF生成機能実装
  - 見積書テンプレート作成
  - 見積書ダウンロード機能
  - 基本的な見積書レイアウト
- **定義完了**: 基本的な見積書PDFが生成・ダウンロードできる

#### チケット #1-11: 作業指示書基本機能
- **優先度**: 中
- **見積工数**: 4日
- **内容**:
  - 作業指示書画面作成
  - 基本情報表示
  - 収集日・備考入力
  - 簡単な指示書出力
- **定義完了**: 基本的な作業指示書が作成できる

#### チケット #1-12: 統合テスト・バグ修正
- **優先度**: 高
- **見積工数**: 6日
- **内容**:
  - エンドツーエンドテスト実施
  - バグ修正・動作確認
  - 基本的なエラーハンドリング改善
  - MVP機能の動作保証
- **定義完了**: 基本的なワークフローが正常に動作する

**Phase 1 合計見積工数**: 約 60日（約3ヶ月）

---

## Phase 2: ベータ版（ユーザーテスト対応レベル）

**目標**: 全ての仕様機能を実装し、実際のユーザーが使用できるレベルまで品質向上

### Phase 2.1: 高度な機能実装

#### チケット #2-1: イニシャル別・検索機能実装
- **優先度**: 高
- **見積工数**: 5日
- **内容**:
  - イニシャル別アイテム表示機能
  - アイテム名での検索機能
  - 部分一致検索実装
  - 検索結果フィルタリング
  - パフォーマンス最適化
- **定義完了**: イニシャル別選択・検索機能が正常動作する

#### チケット #2-2: 画像アップロード機能実装
- **優先度**: 高
- **見積工数**: 7日
- **内容**:
  - 画像アップロードAPI実装
  - 画像ファイル検証・リサイズ機能
  - AWS S3またはGoogle Cloud Storage連携
  - フロントエンド画像アップロードUI
  - 画像プレビュー・削除機能
- **定義完了**: アイテムに画像を添付・表示・削除できる

#### チケット #2-3: カスタムアイテム機能実装
- **優先度**: 高
- **見積工数**: 6日
- **内容**:
  - カスタムアイテム作成API実装
  - カスタムアイテム入力フォーム
  - カスタム価格設定機能
  - カスタムアイテム管理機能
  - プリセットアイテムとの統合表示
- **定義完了**: ユーザー独自のアイテムを作成・管理できる

#### チケット #2-4: 価格調整機能実装
- **優先度**: 中
- **見積工数**: 4日
- **内容**:
  - 個別アイテム価格調整機能
  - 価格調整履歴管理
  - 調整理由記録機能
  - 価格調整の見積書反映
- **定義完了**: アイテムごとに価格を調整・記録できる

### Phase 2.2: 外部システム連携

#### チケット #2-5: Google Drive連携実装
- **優先度**: 高
- **見積工数**: 8日
- **内容**:
  - Google Drive API連携実装
  - OAuth2認証実装
  - 見積書PDF自動アップロード
  - フォルダ管理機能
  - アクセス権限管理
- **定義完了**: 見積書がGoogle Driveに自動保存される

#### チケット #2-6: Google Spreadsheet連携実装
- **優先度**: 高
- **見積工数**: 8日
- **内容**:
  - Google Sheets API連携実装
  - 作業指示書データ自動書き込み
  - スプレッドシートテンプレート対応
  - データ形式変換機能
  - 連携エラーハンドリング
- **定義完了**: 作業指示書がGoogle Spreadsheetに自動記録される

### Phase 2.3: UI/UX向上

#### チケット #2-7: 高度なフォーム機能実装
- **優先度**: 中
- **見積工数**: 6日
- **内容**:
  - 入力データ自動保存（LocalStorage）
  - フォーム入力状態復元機能
  - 入力進捗表示
  - 入力エラー詳細表示
  - フォーム入力ガイド機能
- **定義完了**: ユーザビリティの高いフォーム入力ができる

#### チケット #2-8: レスポンシブ・モバイル対応
- **優先度**: 高
- **見積工数**: 7日
- **内容**:
  - モバイルファーストデザイン実装
  - タッチ操作最適化
  - 画面サイズ別レイアウト調整
  - モバイル端末での動作確認
  - PWA基本対応
- **定義完了**: スマートフォン・タブレットで快適に使用できる

#### チケット #2-9: 通知・フィードバック機能
- **優先度**: 中
- **見積工数**: 4日
- **内容**:
  - トースト通知システム実装
  - ローディング状態表示
  - 成功・エラーメッセージ改善
  - 処理進捗表示
  - ユーザーガイダンス機能
- **定義完了**: ユーザーに適切なフィードバックが提供される

### Phase 2.4: 品質向上・テスト

#### チケット #2-10: 包括的テスト実装
- **優先度**: 高
- **見積工数**: 10日
- **内容**:
  - ユニットテスト実装（フロントエンド・バックエンド）
  - APIテスト実装
  - E2Eテスト実装（Playwright）
  - テストカバレッジ向上
  - CI/CDパイプライン構築
- **定義完了**: 自動テストが安定して実行され、高いカバレッジを達成

#### チケット #2-11: エラーハンドリング・ログ機能
- **優先度**: 高
- **見積工数**: 6日
- **内容**:
  - 包括的エラーハンドリング実装
  - ログ機能実装（構造化ログ）
  - エラー監視システム導入
  - ユーザー向けエラーメッセージ改善
  - 障害通知機能
- **定義完了**: エラーが適切に処理され、監視・通知される

#### チケット #2-12: ユーザーテスト・フィードバック対応
- **優先度**: 高
- **見積工数**: 8日
- **内容**:
  - ユーザーテスト実施
  - フィードバック収集・分析
  - UI/UX改善対応
  - バグ修正・機能調整
  - ユーザビリティ向上
- **定義完了**: ユーザーテストでの課題が解決され、実用レベルに達する

**Phase 2 合計見積工数**: 約 79日（約4ヶ月）

---

## Phase 3: プロダクションレベル（公開対応レベル）

**目標**: コードリファクタリング、パフォーマンス最適化、セキュリティ強化、運用体制整備

### Phase 3.1: アーキテクチャ・コード品質向上

#### チケット #3-1: クリーンアーキテクチャリファクタリング
- **優先度**: 高
- **見積工数**: 12日
- **内容**:
  - Go バックエンドのクリーンアーキテクチャ適用
  - レイヤー分離・依存関係整理
  - インターフェース抽象化
  - ドメインロジック分離
  - リポジトリパターン実装
- **定義完了**: クリーンアーキテクチャが正しく実装され、保守性が向上

#### チケット #3-2: フロントエンドアーキテクチャ改善
- **優先度**: 高
- **見積工数**: 10日
- **内容**:
  - 状態管理ライブラリ実装（Zustand）
  - コンポーネント設計改善
  - カスタムフック整理・最適化
  - ディレクトリ構成リファクタリング
  - 型定義強化
- **定義完了**: フロントエンドコードが整理され、保守性・拡張性が向上

#### チケット #3-3: パフォーマンス最適化
- **優先度**: 高
- **見積工数**: 8日
- **内容**:
  - フロントエンドバンドルサイズ最適化
  - 画像最適化（Next.js Image）
  - レイジーローディング実装
  - API レスポンス最適化
  - データベースクエリ最適化
  - キャッシュ戦略実装
- **定義完了**: ページ読み込み速度・レスポンスが大幅に改善

### Phase 3.2: セキュリティ・認証強化

#### チケット #3-4: セキュリティ強化
- **優先度**: 高
- **見積工数**: 10日
- **内容**:
  - 入力値サニタイゼーション強化
  - SQLインジェクション対策
  - XSS対策実装
  - CSRF対策実装
  - セキュリティヘッダー設定
  - 脆弱性スキャン・対応
- **定義完了**: セキュリティ監査をクリアし、本番環境対応レベルに達する

#### チケット #3-5: LIFF認証機能実装（オプション）
- **優先度**: 低
- **見積工数**: 12日
- **内容**:
  - LINE LIFF SDK統合
  - LINE認証フロー実装
  - ユーザー管理機能
  - 権限管理システム
  - スプレッドシートでのID管理
- **定義完了**: LINE経由でのログイン・ユーザー管理ができる

### Phase 3.3: 運用・監視体制

#### チケット #3-6: 監視・ログシステム構築
- **優先度**: 高
- **見積工数**: 8日
- **内容**:
  - APM（Application Performance Monitoring）導入
  - ログ集約システム構築
  - アラート機能実装
  - ダッシュボード作成
  - 監視指標定義・設定
- **定義完了**: システム状態が適切に監視され、問題時に通知される

#### チケット #3-7: CI/CD・デプロイ自動化
- **優先度**: 高
- **見積工数**: 10日
- **内容**:
  - GitHub Actions CI/CD構築
  - 自動テスト実行環境
  - ステージング環境構築
  - Blue-Green デプロイ実装
  - ロールバック機能
  - デプロイ承認フロー
- **定義完了**: 安全で効率的な自動デプロイが実現される

#### チケット #3-8: バックアップ・災害対策
- **優先度**: 中
- **見積工数**: 6日
- **内容**:
  - データベースバックアップ自動化
  - ファイルバックアップ戦略実装
  - 災害復旧手順作成
  - データ復元テスト実施
  - 運用手順書作成
- **定義完了**: データ保護・災害対策が完備される

### Phase 3.4: ドキュメント・保守性向上

#### チケット #3-9: API ドキュメント整備
- **優先度**: 中
- **見積工数**: 5日
- **内容**:
  - OpenAPI/Swagger仕様書作成
  - API ドキュメント自動生成
  - Postman コレクション作成
  - 開発者向けAPIガイド作成
- **定義完了**: 完全なAPI仕様書・ドキュメントが整備される

#### チケット #3-10: 運用マニュアル・保守ドキュメント作成
- **優先度**: 中
- **見積工数**: 8日
- **内容**:
  - システム運用マニュアル作成
  - トラブルシューティングガイド作成
  - 保守手順書作成
  - コードコメント・README更新
  - アーキテクチャドキュメント作成
- **定義完了**: 運用・保守に必要なドキュメントが完備される

#### チケット #3-11: 負荷テスト・最終品質保証
- **優先度**: 高
- **見積工数**: 7日
- **内容**:
  - 負荷テスト実施
  - パフォーマンステスト
  - セキュリティテスト
  - 最終的な品質保証テスト
  - 本番環境での動作確認
- **定義完了**: 本番環境での安定動作が保証される

#### チケット #3-12: リリース準備・公開対応
- **優先度**: 高
- **見積工数**: 5日
- **内容**:
  - 本番環境設定
  - ドメイン・SSL証明書設定
  - リリース手順実行
  - 公開後監視
  - ユーザーサポート体制準備
- **定義完了**: 本格運用開始

**Phase 3 合計見積工数**: 約 101日（約5ヶ月）

---

## 全体サマリー

### 総見積工数
- **Phase 1 (MVP)**: 60日（約3ヶ月）
- **Phase 2 (ベータ)**: 79日（約4ヶ月）
- **Phase 3 (プロダクション)**: 101日（約5ヶ月）
- **総合計**: 240日（約12ヶ月）

### リソース要件
- **フロントエンド開発者**: 1名
- **バックエンド開発者**: 1名
- **インフラ・DevOps**: 0.5名（Phase 3で主に必要）
- **プロジェクトマネージャー**: 0.5名
- **QA・テスト**: 0.5名（Phase 2-3で必要）

### 重要なマイルストーン
1. **MVP完成**: Phase 1完了時（3ヶ月後）
2. **ベータ版リリース**: Phase 2完了時（7ヶ月後）
3. **プロダクション公開**: Phase 3完了時（12ヶ月後）

### リスク要因
- 外部API（Google Drive/Sheets）の仕様変更・制限
- LIFF認証実装の技術的複雑性
- パフォーマンス要件の達成難易度
- ユーザーテストでの大幅な仕様変更要求

### 成功指標
- **Phase 1**: 基本ワークフローの動作実証
- **Phase 2**: 実際のユーザーによる継続利用
- **Phase 3**: 本番環境での安定稼働（稼働率99.9%以上）

---

**作成日**: 2025年6月16日  
**バージョン**: 1.0  
**作成者**: Claude  
**更新履歴**: 初版作成